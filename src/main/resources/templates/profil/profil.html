<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Profil Client</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <link rel="stylesheet" href="/css/header.css">
</head>
<body>
<div th:replace="_parts/_header :: header"></div>
<div class="profil-box">
    <div class="profil-nav">
        <div>
            <h2 class="profil-titre"><span th:text="${client.prenom}"></span></h2>
        </div>

        <!-- Barre de navigation latérale -->
        <nav class="profil-sidebar">
            <ul>
                <li><a href="#" class="active" data-section="infos">Mes infos</a></li>
                <li><a href="#" data-section="produits">Mes produits</a></li>
                <li><a href="#" data-section="concours">Mes concours</a></li>
                <li><a href="#" data-section="permis">Permis de pêche</a></li>
            </ul>
        </nav>

        <!-- Bouton de déconnexion -->
        <form th:action="@{/logout}" method="post" class="logout-form">
            <button type="submit" class="logout-button">Déconnexion</button>
        </form>
    </div>

    <!-- Contenu principal de chaque section -->
    <div class="profil-content">
        <section id="infos" class="content-section">
            <h2 class="profil-titre">Mes infos</h2>
            <div class="profil-content-info-cards">
                <div class="profil-content-info-card">
                    <h3>Prénom</h3>
                    <p th:text="${client.prenom}"></p>
                </div>
                <div class="profil-content-info-card">
                    <h3>Nom</h3>
                    <p th:text="${client.nom}"></p>
                </div>
                <div class="profil-content-info-card">
                    <h3>Téléphone</h3>
                    <p th:text="${client.telephone}"></p>
                </div>
                <div class="profil-content-info-card">
                    <h3>Email</h3>
                    <p th:text="${client.email}"></p>
                </div>
                <div class="profil-content-info-card">
                    <h3>Adresse</h3>
                    <p th:text="${client.adresse}"></p>
                </div>

                <!-- Section pour afficher le rôle ADMIN -->
                <div class="profil-content-info-card" th:if="${client.role == T(com.magasinpeche.model.Role).ADMIN}">
                    <h3>Rôle</h3>
                    <p>Vous avez le rôle <strong>ADMIN</strong>.</p>
                </div>
            </div>
        </section>

        <section id="produits" class="content-section" style="display: none;">
            <h2 class="profil-titre">Mes produits</h2>
            <p>Produits ajoutés ou achetés par l'utilisateur...</p>
        </section>

        <section id="concours" class="content-section" style="display: none;">
            <h2 class="profil-titre">Mes concours</h2>
            <p>Concours auxquels l'utilisateur a participé...</p>
        </section>

        <section id="permis" class="content-section" style="display: none;">
            <h2 class="profil-titre">Permis de pêche</h2>
            <div th:if="${permis != null}">
                <h3>Statut du permis :</h3>
                <p th:text="${permis.statut}">Statut du permis</p>
                <h3>Date de demande :</h3>
                <p th:text="${#dates.format(permis.dateDemande, 'dd-MM-yyyy')}">Date de demande</p>
            </div>
            <div th:if="${permis == null}">
                <p>Vous n'avez pas encore de permis.
                    <br> Faites votre demande <a href="/permis/demande">ici</a></p>
            </div>
        </section>
    </div>
</div>

<script src="/js/script.js"></script>
</body>
</html>
